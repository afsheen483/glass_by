
var wpAjaxUrl='https://directvisioneyewear.ca/wp-admin/admin-ajax.php';var flBuilderUrl='https://directvisioneyewear.ca/wp-content/plugins/bb-plugin/';var FLBuilderLayoutConfig={anchorLinkAnimations:{duration:1000,easing:'swing',offset:100},paths:{pluginUrl:'https://directvisioneyewear.ca/wp-content/plugins/bb-plugin/',wpAjaxUrl:'https://directvisioneyewear.ca/wp-admin/admin-ajax.php'},breakpoints:{small:768,medium:1024},waypoint:{offset:80}};(function($){if(typeof FLBuilderLayout!='undefined'){return;}
FLBuilderLayout={init:function()
{FLBuilderLayout._destroy();FLBuilderLayout._initClasses();FLBuilderLayout._initBackgrounds();if(0===$('.fl-builder-edit').length){FLBuilderLayout._initModuleAnimations();FLBuilderLayout._initAnchorLinks();FLBuilderLayout._initHash();FLBuilderLayout._initForms();}},refreshGalleries:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),mfContent=$element.find('.fl-mosaicflow-content'),wmContent=$element.find('.fl-gallery'),mfObject=null;if(mfContent){mfObject=mfContent.data('mosaicflow');if(mfObject){mfObject.columns=$([]);mfObject.columnsHeights=[];mfContent.data('mosaicflow',mfObject);mfContent.mosaicflow('refill');}}
if(wmContent){wmContent.trigger('refreshWookmark');}},refreshGridLayout:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),msnryContent=$element.find('.masonry');if(msnryContent.length){msnryContent.masonry('layout');}},reloadSlider:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),bxContent=$element.find('.bx-viewport > div').eq(0),bxObject=null;if(bxContent.length){bxObject=bxContent.data('bxSlider');if(bxObject){bxObject.reloadSlider();}}},resizeAudio:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),audioPlayers=$element.find('.wp-audio-shortcode.mejs-audio'),player=null,mejsPlayer=null,rail=null,railWidth=400;if(audioPlayers.length&&typeof mejs!=='undefined'){audioPlayers.each(function(){player=$(this);mejsPlayer=mejs.players[player.attr('id')];rail=player.find('.mejs-controls .mejs-time-rail');var innerMejs=player.find('.mejs-inner'),total=player.find('.mejs-controls .mejs-time-total');if(typeof mejsPlayer!=='undefined'){railWidth=Math.ceil(player.width()*0.8);if(innerMejs.length){rail.css('width',railWidth+'px!important');mejsPlayer.options.autosizeProgress=true;setTimeout(function(){mejsPlayer.setControlsSize();},50);player.find('.mejs-inner').css({visibility:'visible',height:'inherit'});}}});}},preloadAudio:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),contentWrap=$element.closest('.fl-accordion-item'),audioPlayers=$element.find('.wp-audio-shortcode.mejs-audio');if(!contentWrap.hasClass('fl-accordion-item-active')&&audioPlayers.find('.mejs-inner').length){audioPlayers.find('.mejs-inner').css({visibility:'hidden',height:0});}},resizeSlideshow:function(){if(typeof YUI!=='undefined'){YUI().use('node-event-simulate',function(Y){Y.one(window).simulate("resize");});}},reloadGoogleMap:function(element){var $element='undefined'==typeof element?$('body'):$(element),googleMap=$element.find('iframe[src*="google.com/maps"]');if(googleMap.length){googleMap.attr('src',function(i,val){return val;});}},_destroy:function()
{var win=$(window);win.off('scroll.fl-bg-parallax');win.off('resize.fl-bg-video');},_isTouch:function()
{if(('ontouchstart'in window)||(window.DocumentTouch&&document instanceof DocumentTouch)){return true;}
return false;},_isMobile:function()
{return/Mobile|Android|Silk\/|Kindle|BlackBerry|Opera Mini|Opera Mobi|webOS/i.test(navigator.userAgent);},_initClasses:function()
{var body=$('body'),ua=navigator.userAgent;if(!body.hasClass('archive')&&$('.fl-builder-content-primary').length>0){body.addClass('fl-builder');}
if(FLBuilderLayout._isTouch()){body.addClass('fl-builder-touch');}
if(FLBuilderLayout._isMobile()){body.addClass('fl-builder-mobile');}
if($(window).width()<FLBuilderLayoutConfig.breakpoints.small){body.addClass('fl-builder-breakpoint-small');}
if($(window).width()>FLBuilderLayoutConfig.breakpoints.small&&$(window).width()<FLBuilderLayoutConfig.breakpoints.medium){body.addClass('fl-builder-breakpoint-medium');}
if($(window).width()>FLBuilderLayoutConfig.breakpoints.medium){body.addClass('fl-builder-breakpoint-large');}
if(ua.indexOf('Trident/7.0')>-1&&ua.indexOf('rv:11.0')>-1){body.addClass('fl-builder-ie-11');}},_initBackgrounds:function()
{var win=$(window);if($('.fl-row-bg-parallax').length>0&&!FLBuilderLayout._isMobile()){FLBuilderLayout._scrollParallaxBackgrounds();FLBuilderLayout._initParallaxBackgrounds();win.on('scroll.fl-bg-parallax',FLBuilderLayout._scrollParallaxBackgrounds);}
if($('.fl-bg-video').length>0){FLBuilderLayout._initBgVideos();FLBuilderLayout._resizeBgVideos();win.on('resize.fl-bg-video',FLBuilderLayout._resizeBgVideos);}},_initParallaxBackgrounds:function()
{$('.fl-row-bg-parallax').each(FLBuilderLayout._initParallaxBackground);},_initParallaxBackground:function()
{var row=$(this),content=row.find('> .fl-row-content-wrap'),src=row.data('parallax-image'),loaded=row.data('parallax-loaded'),img=new Image();if(loaded){return;}
else if(typeof src!='undefined'){$(img).on('load',function(){content.css('background-image','url('+src+')');row.data('parallax-loaded',true);});img.src=src;}},_scrollParallaxBackgrounds:function()
{$('.fl-row-bg-parallax').each(FLBuilderLayout._scrollParallaxBackground);},_scrollParallaxBackground:function()
{var win=$(window),row=$(this),content=row.find('> .fl-row-content-wrap'),speed=row.data('parallax-speed'),offset=content.offset(),yPos=-((win.scrollTop()-offset.top)/speed);content.css('background-position','center '+yPos+'px');},_initBgVideos:function()
{$('.fl-bg-video').each(FLBuilderLayout._initBgVideo);},_initBgVideo:function()
{var wrap=$(this),width=wrap.data('width'),height=wrap.data('height'),mp4=wrap.data('mp4'),youtube=wrap.data('youtube'),vimeo=wrap.data('vimeo'),mp4Type=wrap.data('mp4-type'),webm=wrap.data('webm'),webmType=wrap.data('webm-type'),fallback=wrap.data('fallback'),loaded=wrap.data('loaded'),videoMobile=wrap.data('video-mobile'),fallbackTag='',videoTag=null,mp4Tag=null,webmTag=null;if(loaded){return;}
videoTag=$('<video autoplay loop muted playsinline></video>');if('undefined'!=typeof fallback&&''!=fallback){videoTag.attr('poster','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')
videoTag.css('background','transparent url("'+fallback+'") no-repeat center center')
videoTag.css('background-size','cover')
videoTag.css('height','100%')}
if('undefined'!=typeof mp4&&''!=mp4){mp4Tag=$('<source />');mp4Tag.attr('src',mp4);mp4Tag.attr('type',mp4Type);videoTag.append(mp4Tag);}
if('undefined'!=typeof webm&&''!=webm){webmTag=$('<source />');webmTag.attr('src',webm);webmTag.attr('type',webmType);videoTag.append(webmTag);}
if(!FLBuilderLayout._isMobile()||(FLBuilderLayout._isMobile()&&"yes"==videoMobile)){if('undefined'!=typeof youtube){FLBuilderLayout._initYoutubeBgVideo.apply(this);}
else if('undefined'!=typeof vimeo){FLBuilderLayout._initVimeoBgVideo.apply(this);}
else{wrap.append(videoTag);}}
else{videoTag.attr('src','')
wrap.append(videoTag);}
wrap.data('loaded',true);},_initYoutubeBgVideo:function()
{var playerWrap=$(this),videoId=playerWrap.data('video-id'),videoPlayer=playerWrap.find('.fl-bg-video-player'),enableAudio=playerWrap.data('enable-audio'),audioButton=playerWrap.find('.fl-bg-video-audio'),startTime='undefined'!==typeof playerWrap.data('start')?playerWrap.data('start'):0,endTime='undefined'!==typeof playerWrap.data('end')?playerWrap.data('end'):0,loop='undefined'!==typeof playerWrap.data('loop')?playerWrap.data('loop'):1,stateCount=0,player,fallback_showing;if(videoId){fallback=playerWrap.data('fallback')||false
if(fallback){playerWrap.find('iframe').remove()
fallbackTag=$('<div></div>');fallbackTag.addClass('fl-bg-video-fallback');fallbackTag.css('background-image','url('+playerWrap.data('fallback')+')');fallbackTag.css('background-size','cover');fallbackTag.css('transition','background-image 1s')
playerWrap.append(fallbackTag);fallback_showing=true;}
FLBuilderLayout._onYoutubeApiReady(function(YT){setTimeout(function(){player=new YT.Player(videoPlayer[0],{videoId:videoId,events:{onReady:function(event){if("no"===enableAudio||FLBuilderLayout._isMobile()){event.target.mute();}
else if("yes"===enableAudio&&event.target.isMuted){event.target.unMute();}
playerWrap.data('YTPlayer',player);FLBuilderLayout._resizeYoutubeBgVideo.apply(playerWrap);event.target.playVideo();if(audioButton.length>0&&!FLBuilderLayout._isMobile()){audioButton.on('click',{button:audioButton,player:player},FLBuilderLayout._toggleBgVideoAudio);}},onStateChange:function(event){if(event.data===1){if(fallback_showing){$('.fl-bg-video-fallback').css('background-image','url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)')}}
if(stateCount<4){stateCount++;}
if(stateCount>1&&(-1===event.data||2===event.data)&&"yes"===enableAudio){player.mute();player.playVideo();audioButton.show();}
if(event.data===YT.PlayerState.ENDED&&1===loop){if(startTime>0){player.seekTo(startTime);}
else{player.playVideo();}}},onError:function(event){console.info('YT Error: '+event.data)
FLBuilderLayout._onErrorYoutubeVimeo(playerWrap)}},playerVars:{playsinline:FLBuilderLayout._isMobile()?1:0,controls:0,showinfo:0,rel:0,start:startTime,end:endTime,}});},1);});}},_onErrorYoutubeVimeo:function(playerWrap){fallback=playerWrap.data('fallback')||false
if(!fallback){return false;}
playerWrap.find('iframe').remove()
fallbackTag=$('<div></div>');fallbackTag.addClass('fl-bg-video-fallback');fallbackTag.css('background-image','url('+playerWrap.data('fallback')+')');playerWrap.append(fallbackTag);},_onYoutubeApiReady:function(callback){if(window.YT&&YT.loaded){callback(YT);}else{setTimeout(function(){FLBuilderLayout._onYoutubeApiReady(callback);},350);}},_initVimeoBgVideo:function()
{var playerWrap=$(this),videoId=playerWrap.data('video-id'),videoPlayer=playerWrap.find('.fl-bg-video-player'),enableAudio=playerWrap.data('enable-audio'),audioButton=playerWrap.find('.fl-bg-video-audio'),player,width=playerWrap.outerWidth(),ua=navigator.userAgent;if(typeof Vimeo!=='undefined'&&videoId){player=new Vimeo.Player(videoPlayer[0],{id:videoId,loop:true,title:false,portrait:false,background:true,autopause:false,muted:true});playerWrap.data('VMPlayer',player);if("no"===enableAudio){player.setVolume(0);}
else if("yes"===enableAudio){if(ua.indexOf("Safari")>-1||ua.indexOf("Chrome")>-1){player.setVolume(0);audioButton.show();}
else{player.setVolume(1);}}
player.play().catch(function(error){FLBuilderLayout._onErrorYoutubeVimeo(playerWrap)});if(audioButton.length>0){audioButton.on('click',{button:audioButton,player:player},FLBuilderLayout._toggleBgVideoAudio);}}},_toggleBgVideoAudio:function(e){var player=e.data.player,control=e.data.button.find('.fl-audio-control');if(control.hasClass('fa-volume-off')){control.removeClass('fa-volume-off').addClass('fa-volume-up');e.data.button.find('.fa-times').hide();if('function'===typeof player.unMute){player.unMute();}
else{player.setVolume(1);}}
else{control.removeClass('fa-volume-up').addClass('fa-volume-off');e.data.button.find('.fa-times').show();if('function'===typeof player.unMute){player.mute();}
else{player.setVolume(0);}}},_videoBgSourceError:function(e)
{var source=$(e.target),wrap=source.closest('.fl-bg-video'),vid=wrap.find('video'),fallback=wrap.data('fallback'),fallbackTag='';source.remove();if(vid.find('source').length){return;}else if(''!==fallback){fallbackTag=$('<div></div>');fallbackTag.addClass('fl-bg-video-fallback');fallbackTag.css('background-image','url('+fallback+')');wrap.append(fallbackTag);vid.remove();}},_resizeBgVideos:function()
{$('.fl-bg-video').each(function(){FLBuilderLayout._resizeBgVideo.apply(this);if($(this).parent().find('img').length>0){$(this).parent().imagesLoaded($.proxy(FLBuilderLayout._resizeBgVideo,this));}});},_resizeBgVideo:function()
{if(0===$(this).find('video').length&&0===$(this).find('iframe').length){return;}
var wrap=$(this),wrapHeight=wrap.outerHeight(),wrapWidth=wrap.outerWidth(),vid=wrap.find('video'),vidHeight=wrap.data('height'),vidWidth=wrap.data('width'),newWidth=wrapWidth,newHeight=Math.round(vidHeight*wrapWidth/vidWidth),newLeft=0,newTop=0,iframe=wrap.find('iframe');if(vid.length){if(vidHeight===''||typeof vidHeight==='undefined'||vidWidth===''||typeof vidWidth==='undefined'){vid.css({'left':'0px','top':'0px','width':newWidth+'px'});vid.on('loadedmetadata',FLBuilderLayout._resizeOnLoadedMeta);}
else{if(newHeight<wrapHeight){newHeight=wrapHeight;newWidth=Math.round(vidWidth*wrapHeight/vidHeight);newLeft=-((newWidth-wrapWidth)/2);}
else{newTop=-((newHeight-wrapHeight)/2);}
vid.css({'left':newLeft+'px','top':newTop+'px','height':newHeight+'px','width':newWidth+'px'});}}
else if(iframe.length){if(typeof wrap.data('youtube')!=='undefined'){FLBuilderLayout._resizeYoutubeBgVideo.apply(this);}}},_resizeOnLoadedMeta:function(){var video=$(this),wrapHeight=video.parent().outerHeight(),wrapWidth=video.parent().outerWidth(),vidWidth=video[0].videoWidth,vidHeight=video[0].videoHeight,newHeight=Math.round(vidHeight*wrapWidth/vidWidth),newWidth=wrapWidth,newLeft=0,newTop=0;if(newHeight<wrapHeight){newHeight=wrapHeight;newWidth=Math.round(vidWidth*wrapHeight/vidHeight);newLeft=-((newWidth-wrapWidth)/2);}
else{newTop=-((newHeight-wrapHeight)/2);}
video.parent().data('width',vidWidth);video.parent().data('height',vidHeight);video.css({'left':newLeft+'px','top':newTop+'px','width':newWidth+'px','height':newHeight+'px'});},_resizeYoutubeBgVideo:function()
{var wrap=$(this),wrapWidth=wrap.outerWidth(),wrapHeight=wrap.outerHeight(),player=wrap.data('YTPlayer'),video=player?player.getIframe():null,aspectRatioSetting='16:9',aspectRatioArray=aspectRatioSetting.split(':'),aspectRatio=aspectRatioArray[0]/aspectRatioArray[1],ratioWidth=wrapWidth/aspectRatio,ratioHeight=wrapHeight*aspectRatio,isWidthFixed=wrapWidth/wrapHeight>aspectRatio,width=isWidthFixed?wrapWidth:ratioHeight,height=isWidthFixed?ratioWidth:wrapHeight;if(video){$(video).width(width).height(height);}},_initModuleAnimations:function()
{if(typeof jQuery.fn.waypoint!=='undefined'){$('.fl-animation').each(function(){var node=$(this),nodeTop=node.offset().top,winHeight=$(window).height(),bodyHeight=$('body').height(),waypoint=FLBuilderLayoutConfig.waypoint,offset='80%';if(typeof waypoint.offset!==undefined){offset=FLBuilderLayoutConfig.waypoint.offset+'%';}
if(bodyHeight-nodeTop<winHeight*0.2){offset='100%';}
node.waypoint({offset:offset,handler:FLBuilderLayout._doModuleAnimation});});}},_doModuleAnimation:function()
{var module='undefined'==typeof this.element?$(this):$(this.element),delay=parseFloat(module.data('animation-delay')),duration=parseFloat(module.data('animation-duration'));if(!isNaN(duration)){module.css('animation-duration',duration+'s');}
if(!isNaN(delay)&&delay>0){setTimeout(function(){module.addClass('fl-animated');},delay*1000);}else{setTimeout(function(){module.addClass('fl-animated');},1);}},_initHash:function()
{var hash=window.location.hash.replace('#','').split('/').shift(),element=null,tabs=null,responsiveLabel=null,tabIndex=null,label=null;if(''!==hash){try{element=$('#'+hash);if(element.length>0){if(element.hasClass('fl-accordion-item')){setTimeout(function(){element.find('.fl-accordion-button').trigger('click');},100);}
if(element.hasClass('fl-tabs-panel')){setTimeout(function(){tabs=element.closest('.fl-tabs');responsiveLabel=element.find('.fl-tabs-panel-label');tabIndex=responsiveLabel.data('index');label=tabs.find('.fl-tabs-labels .fl-tabs-label[data-index='+tabIndex+']');if(responsiveLabel.is(':visible')){responsiveLabel.trigger('click');}
else{label[0].click();FLBuilderLayout._scrollToElement(element);}},100);}}}
catch(e){}}},_initAnchorLinks:function()
{$('a').each(FLBuilderLayout._initAnchorLink);},_initAnchorLink:function()
{var link=$(this),href=link.attr('href'),loc=window.location,id=null,element=null;if('undefined'!=typeof href&&href.indexOf('#')>-1&&link.closest('svg').length<1){if(loc.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&loc.hostname==this.hostname){try{id=href.split('#').pop();if(!id){return;}
element=$('#'+id);if(element.length>0){if(link.hasClass('fl-scroll-link')||element.hasClass('fl-row')||element.hasClass('fl-col')||element.hasClass('fl-module')){$(link).on('click',FLBuilderLayout._scrollToElementOnLinkClick);}
if(element.hasClass('fl-accordion-item')){$(link).on('click',FLBuilderLayout._scrollToAccordionOnLinkClick);}
if(element.hasClass('fl-tabs-panel')){$(link).on('click',FLBuilderLayout._scrollToTabOnLinkClick);}}}
catch(e){}}}},_scrollToElementOnLinkClick:function(e,callback)
{var element=$('#'+$(this).attr('href').split('#').pop());FLBuilderLayout._scrollToElement(element,callback);e.preventDefault();},_scrollToElement:function(element,callback)
{var config=FLBuilderLayoutConfig.anchorLinkAnimations,dest=0,win=$(window),doc=$(document);if(element.length>0){if(element.offset().top>doc.height()-win.height()){dest=doc.height()-win.height();}
else{dest=element.offset().top-config.offset;}
$('html, body').animate({scrollTop:dest},config.duration,config.easing,function(){if('undefined'!=typeof callback){callback();}
if(undefined!=element.attr('id')){if(history.pushState){history.pushState(null,null,'#'+element.attr('id'));}
else{window.location.hash=element.attr('id');}}});}},_scrollToAccordionOnLinkClick:function(e)
{var element=$('#'+$(this).attr('href').split('#').pop());if(element.length>0){var callback=function(){if(element){element.find('.fl-accordion-button').trigger('click');element=false;}};FLBuilderLayout._scrollToElementOnLinkClick.call(this,e,callback);}},_scrollToTabOnLinkClick:function(e)
{var element=$('#'+$(this).attr('href').split('#').pop()),tabs=null,label=null,responsiveLabel=null;if(element.length>0){tabs=element.closest('.fl-tabs');responsiveLabel=element.find('.fl-tabs-panel-label');tabIndex=responsiveLabel.data('index');label=tabs.find('.fl-tabs-labels .fl-tabs-label[data-index='+tabIndex+']');if(responsiveLabel.is(':visible')){var callback=function(){if(element){responsiveLabel.trigger('click');element=false;}};FLBuilderLayout._scrollToElementOnLinkClick.call(this,e,callback);}
else{label[0].click();FLBuilderLayout._scrollToElement(element);}
e.preventDefault();}},_initForms:function()
{if(!FLBuilderLayout._hasPlaceholderSupport){$('.fl-form-field input').each(FLBuilderLayout._initFormFieldPlaceholderFallback);}
$('.fl-form-field input').on('focus',FLBuilderLayout._clearFormFieldError);},_hasPlaceholderSupport:function()
{var input=document.createElement('input');return'undefined'!=input.placeholder;},_initFormFieldPlaceholderFallback:function()
{var field=$(this),val=field.val(),placeholder=field.attr('placeholder');if('undefined'!=placeholder&&''===val){field.val(placeholder);field.on('focus',FLBuilderLayout._hideFormFieldPlaceholderFallback);field.on('blur',FLBuilderLayout._showFormFieldPlaceholderFallback);}},_hideFormFieldPlaceholderFallback:function()
{var field=$(this),val=field.val(),placeholder=field.attr('placeholder');if(val==placeholder){field.val('');}},_showFormFieldPlaceholderFallback:function()
{var field=$(this),val=field.val(),placeholder=field.attr('placeholder');if(''===val){field.val(placeholder);}},_clearFormFieldError:function()
{var field=$(this);field.removeClass('fl-form-error');field.siblings('.fl-form-error-message').hide();}};$(function(){FLBuilderLayout.init();});})(jQuery);(function($){if($(window).width()<=768&&$(window).width()>=481){$('.fl-node-5ec37624db728 .pp-heading-separator, .fl-node-5ec37624db728 .pp-heading').removeClass('pp-left');$('.fl-node-5ec37624db728 .pp-heading-separator, .fl-node-5ec37624db728 .pp-heading').addClass('pp-tablet-');}
if($(window).width()<=480){$('.fl-node-5ec37624db728 .pp-heading-separator, .fl-node-5ec37624db728 .pp-heading').removeClass('pp-left');$('.fl-node-5ec37624db728 .pp-heading-separator, .fl-node-5ec37624db728 .pp-heading').addClass('pp-mobile-');}})(jQuery);function validation_check1(){var is_prescription_valid=true;var sphere_right_text=jQuery('.right-eye .sph select option:selected').text().trim();var cylinder_right_text=jQuery('.right-eye .cyl select option:selected').text().trim();var axis_right_text=jQuery('.right-eye .axis input').val().trim();var add_right_text=jQuery('.right-eye .add select option:selected').text().trim();console.log("Sphere_right text -> "+sphere_right_text);console.log("cylinder_right_text -> "+cylinder_right_text);console.log("axis_right_text -> "+axis_right_text);console.log("add_right_text -> "+add_right_text);var sphere_left_text=jQuery('.left-eye .sph select option:selected').text().trim();var cylinder_left_text=jQuery('.left-eye .cyl select option:selected').text().trim();var axis_left_text=jQuery('.left-eye .axis input').val().trim();var add_left_text=jQuery('.left-eye .add select option:selected').text().trim();console.log("Sphere_left text -> "+sphere_left_text);console.log("cylinder_left_text -> "+cylinder_right_text);console.log("axis_left_text -> "+axis_right_text);console.log("add_left_text -> "+add_right_text);var fname_text=jQuery('#fname input').val();var lname_text=jQuery('#lname input').val();var existing_name=jQuery("#filter_by_name option:selected").text().trim();console.log("1name ->"+existing_name);if(jQuery("#prescription_for_existing_member").is(':checked')){console.log("2name ->"+existing_name);if(existing_name=='Select'){console.log("3name ->"+existing_name);jQuery('#existing_memebers Select').css({"border-color":"#e31937","background-color":"#e319370d"});if(jQuery('#existing_memebers').find('span.error').length==0){jQuery('#existing_memebers').append('<span class="error">Please select a member</span>');}
else{console.log("eror name");jQuery('#existing_memebers').find('span.error').fadeIn("fast");}}
else{jQuery('#existing_memebers Select').css({"border-color":"#c0c0c0","background-color":"#ffffff"});jQuery('#existing_memebers span.error').fadeOut("fast");}}
if(!fname_text){jQuery('#fname input').css({"border-color":"#e31937","background-color":"#e319370d"});is_prescription_valid=false;if(jQuery('#fname').find('span.error').length==0){jQuery('#fname').append('<span class="error">Please enter your first name</span>');console.log("eror name 1");}
else{console.log("eror name");jQuery('#fname').find('span.error').fadeIn("fast");}}
else{jQuery('#fname input').css({"border-color":"#c0c0c0","background-color":"#ffffff"});console.log("no eror name");jQuery('#fname span.error').fadeOut("fast");}
if(!lname_text){jQuery('#lname input').css({"border-color":"#e31937","background-color":"#e319370d"});is_prescription_valid=false;if(jQuery('#lname').find('span.error').length==0){jQuery('#lname').append('<span class="error">Please enter your last name</span>');}
else{jQuery('#lname').find('span.error').fadeIn("fast");}}
else{jQuery('#lname input').css({"border-color":"#c0c0c0","background-color":"#ffffff"});jQuery('#lname span.error').fadeOut("fast");}
var pres_name=jQuery('#pname input').val();if(!pres_name){jQuery('#pname input').css({"border-color":"#e31937","background-color":"#e319370d"});is_prescription_valid=false;if(jQuery('#pname').find('span.error').length==0){jQuery('#pname').append('<span class="error">Please enter a prescription name</span>');}
else{jQuery('#pname').find('span.error').fadeIn("fast");}}
else{jQuery('#pname input').css({"border-color":"#c0c0c0","background-color":"#ffffff"});jQuery('#pname span.error').fadeOut("fast");}
var pres_date=jQuery('.presc-date input').val();if(!pres_date){jQuery('.presc-date input').css({"border-color":"#e31937","background-color":"#e319370d"});is_prescription_valid=false;if(jQuery('.presc-date').find('span.error').length==0){jQuery('.presc-date').append('<span class="error">Please enter prescription date</span>');}
else{jQuery('.presc-date').find('span.error').fadeIn("fast");}}
else{jQuery('.presc-date input').css({"border-color":"#c0c0c0","background-color":"#ffffff"});jQuery('.presc-date span.error').fadeOut("fast");}
if(jQuery('.presc-upload input').get(0).files.length==0){jQuery('.presc-upload').css({"border-color":"#e31937","background-color":"#e319370d"});is_prescription_valid=false;if(jQuery('.presc-upload').find('span.error').length==0){jQuery('.presc-upload').append('<span class="error">Please upload a copy of prescription</span>');}
else{jQuery('.presc-upload').find('span.error').fadeIn("fast");}}
else{jQuery('.presc-upload').css({"border-color":"#c0c0c0","background-color":"#ffffff"});jQuery('.presc-upload span.error').fadeOut("fast");}
if(sphere_right_text=='Select'||sphere_right_text=='None'){jQuery('.right-eye .sph select').css("border-color","#e31937");if(jQuery('.right-eye .sph').find('span.error').length==0){jQuery('.right-eye .sph').append('<span class="error">Sphere required</span>');}
else{jQuery('.right-eye .sph').find('span.error').fadeIn("fast");}
is_prescription_valid=false;}
else{jQuery('.right-eye .sph select').css("border-color","#c0c0c0");jQuery('.right-eye .sph').find('span.error').fadeOut("fast");}
var patt1=/^\d+$/;var axis_right_flag=true;if(!patt1.test(axis_right_text)||axis_right_text===''||axis_right_text>180||axis_right_text<0){axis_right_flag=false;}
if((axis_right_flag!=true)&&(cylinder_right_text!='Select'&&cylinder_right_text!='0.00'&&cylinder_right_text!='None'&&cylinder_right_text!='Plano'&&cylinder_right_text!='∞')){jQuery('.right-eye .axis select').css("border-color","#e31937");if(jQuery('.right-eye .axis').find('span.error').length==0){jQuery('.right-eye .axis').append('<span class="error">Please select axis value between 0 - 180</span>');}
else{jQuery('.right-eye .axis').find('span.error').fadeIn("fast");}
is_prescription_valid=false;}
else{jQuery('.right-eye .axis select').css("border-color","#c0c0c0");jQuery('.right-eye .axis').find('span.error').fadeOut("fast");}
if(sphere_left_text=='Select'||sphere_left_text=='None'){jQuery('.left-eye .sph select').css("border-color","#e31937");if(jQuery('.left-eye .sph').find('span.error').length==0){jQuery('.left-eye .sph').append('<span class="error">Sphere required</span>');}
else{jQuery('.left-eye .sph').find('span.error').fadeIn("fast");}
is_prescription_valid=false;}
else{jQuery('.left-eye .sph select').css("border-color","#c0c0c0");jQuery('.left-eye .sph').find('span.error').fadeOut("fast");}
var patt2=/^\d+$/;var axis_left_flag=true;if(!patt2.test(axis_left_text)||axis_left_text===''||axis_left_text>180||axis_left_text<0){axis_left_flag=false;}
if((axis_left_flag!=true)&&(cylinder_left_text!='Select'&&cylinder_left_text!='0.00'&&cylinder_left_text!='None'&&cylinder_left_text!='Plano'&&cylinder_left_text!='∞')){jQuery('.left-eye .axis select').css("border-color","#e31937");if(jQuery('.left-eye .axis').find('span.error').length==0){jQuery('.left-eye .axis').append('<span class="error">Please select axis value between 0 - 180</span>');}
else{jQuery('.left-eye .axis').find('span.error').fadeIn("fast");}
is_prescription_valid=false;}
else{jQuery('.left-eye .axis select').css("border-color","#c0c0c0");jQuery('.left-eye .axis').find('span.error').fadeOut("fast");}
if(!is_prescription_valid){return false;}
else{return true;}}
function readURL1(input,target){if(input.files&&input.files[0]){var reader=new FileReader();reader.onload=function(e){jQuery('.'+target).attr('src',e.target.result);}
reader.readAsDataURL(input.files[0]);}}
jQuery(document).ready(function($){var trparent=$(".uploadprescription").parent().parent();var trind=$(".woocommerce-table__line-item").index(trparent);$(".full_date").datepicker({dateFormat:"mm-dd-yy",maxDate:0,});if($("#prescription_for_existing_member").is(':checked')){$("#existing_memebers").slideDown("medium");}
$('input[name="prescription_type"]').on("change",function(){if($("#prescription_for_existing_member").is(':checked')){$("#existing_memebers").slideDown("medium");}
else{$("#existing_memebers").slideUp("medium");}});jQuery('.presc-upload input[type="file"]').change(function(){var _this_=this;var target=jQuery(".presc-upload .file-preview");var allowedExtensions=['jpg','jpeg','pdf','png'];var uploadedFile=_this_.files[0];var uploadedFileType=uploadedFile.type.split('/')[1];var uploadedFileName=uploadedFile.name;var uploadedFileSize=uploadedFile.size;if(uploadedFileSize>10485760){jQuery('.presc-upload').find('span.error').remove();jQuery('.presc-upload').css({"border-color":"#e31937","background-color":"#e319370d"});is_prescription_valid=false;if(jQuery('.presc-upload').find('span.error').length==0){jQuery('.presc-upload').append('<span class="error">File size should be less than 10mb</span>');}
else{jQuery('.presc-upload').find('span.error').fadeIn("fast");}
jQuery('.presc-upload input').val("");}else{if(allowedExtensions.indexOf(uploadedFileType)<=0){jQuery('.presc-upload').find('span.error').remove();jQuery('.presc-upload').css({"border-color":"#e31937","background-color":"#e319370d"});jQuery('.presc-upload').append('<span class="error">Allowed File Types are .jpg, .jpeg, .png, or .pdf</span>');jQuery('.presc-upload').find('span.error').fadeIn("fast");jQuery('.presc-upload input').val("");}else{jQuery('.presc-upload label, .presc-upload input').fadeOut(100);setTimeout(function(){jQuery(target).slideDown("fast");},100);target.find("img").remove();target.find('file-name').remove();var img=jQuery('<img class="dynamic">');img.appendTo('.presc-upload .file-preview');var img_id="dynamic";jQuery('.presc-upload').css({"border-color":"#c0c0c0","background-color":"#ffffff"});jQuery('.presc-upload span.error').fadeOut("fast");if(uploadedFileType=='pdf'){if(target.find('span.file-name').length){target.find('span.file-name').remove();}
target.append('<span class="file-name">'+uploadedFileName+'</span>');$('.'+img_id).attr('src','/wp-content/uploads/2020/06/doc-placeholder.jpg');}else{readURL1(_this_,img_id);}}}});jQuery(".clear-img").on("click",function(){jQuery(".presc-upload .file-preview").fadeOut(100);jQuery('.presc-upload input').val("");setTimeout(function(){jQuery('.presc-upload label, .presc-upload input').slideDown("fast");},100);});$('input[name="add_pres_btn"]').on("click",function(e){var valid=validation_check1();if(!valid){e.preventDefault();jQuery('html, body').animate({scrollTop:jQuery(".prescription-type-area").offset().top},1200);return;}
else{}});jQuery('.reg-link').on('click',function(e){e.preventDefault();jQuery('.woocommerce-notices-wrapper').html('');jQuery('.u-column1').fadeOut(350,function(){setTimeout(function(){jQuery('.u-column2').fadeIn(350);},0)});});jQuery('.login-link').on('click',function(e){e.preventDefault();jQuery('.woocommerce-notices-wrapper').html('');jQuery('.u-column2').fadeOut(350,function(){setTimeout(function(){jQuery('.u-column1').fadeIn(350);},0)});});jQuery('.woocommerce-form-login').on('submit',function(e){var _this=jQuery(this);var username=_this.find('input[name="username"]').val();var pass=_this.find('input[name="password"]').val();var error='';error+=(!username)?'<li>Username is required</li>':'';error+=(!pass)?'<ii>Password is required</li>':'';if(error){e.preventDefault();jQuery('.woocommerce-notices-wrapper').html('<ul class="woocommerce-error">'+error+'</ul>');}});jQuery('.woocommerce-form-register').on('submit',function(e){var _this=jQuery(this);var fname=_this.find('input[name="first_name"]').val();var lname=_this.find('input[name="last_name"]').val();var email=_this.find('input[name="email"]').val();var pass=_this.find('input[name="password"]').val();var error='';var regExLetters=/^[a-zA-Z]+$/;var regExEmail=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(fname){error+=(!regExLetters.test(fname))?'<li>First Name should be Alphabets only.</li>':'';}
if(!fname){error+='<li>First Name is required</li>';}
if(lname){error+=(!regExLetters.test(lname))?'<li>Last Name should be Alphabets only.</li>':'';}
if(!lname){error+='<li>Last Name is required</li>';}
if(email){error+=(!regExEmail.test(email))?'<li>Email is Invalid.</li>':'';}
if(!email){error+='<li>Email is required</li>';}
error+=(!pass)?'<ii>Password is required</li>':'';console.log(regExLetters.test(fname),regExLetters.test(lname),regExEmail.test(email));if(error){e.preventDefault();jQuery('.woocommerce-notices-wrapper').html('<ul class="woocommerce-error">'+error+'</ul>');}});$('#add_payment_method').find('.input-text').val('');});